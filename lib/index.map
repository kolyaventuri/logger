{"version":3,"sources":["types.js","constants.js","logger.js","index.js"],"names":["INFO","ERROR","typeMap","types","log","data","args","_type","type","scope","extraArgs","methodName","method","console","typeTag","timestamp","Date","noop","Logger","database","save","logResult","logInfo","info","logError","error"],"mappings":"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","file":"index.map","sourceRoot":"..\\src","sourcesContent":["// @noflow\r\n\r\nexport const INFO = 'INFO';\r\nexport const ERROR = 'ERROR';\r\n","// @noflow\r\nimport * as types from './types';\r\n\r\nexport const typeMap = {\r\n  [types.INFO]: 'log',\r\n  [types.ERROR]: 'error'\r\n};\r\n","// @flow\r\n\r\nimport {typeMap} from './constants';\r\nimport * as types from './types';\r\n\r\ntype ArgType = {[string]: any};\r\n\r\nexport const log = (data: any, args: ArgType = {}) => {\r\n  const {type: _type, scope, ...extraArgs} = args;\r\n  const type = _type || types.INFO;\r\n\r\n  const methodName = typeMap[type] || 'log';\r\n  const method = console[methodName];\r\n\r\n  const typeTag = `[${type}]`;\r\n\r\n  if (scope) {\r\n    const scopeTag = `[${scope}]`;\r\n    method(scopeTag, typeTag, data);\r\n  } else {\r\n    method(typeTag, data);\r\n  }\r\n\r\n  return {\r\n    data,\r\n    type,\r\n    scope,\r\n    timestamp: new Date(),\r\n    ...extraArgs\r\n  };\r\n};\r\n","// @flow\r\n\r\nimport {log} from './logger';\r\nimport * as types from './types';\r\n\r\ntype DatabaseType = {\r\n  save: (data: any) => void\r\n};\r\n\r\ntype ArgType = {\r\n  scope?: string,\r\n  database?: DatabaseType\r\n};\r\n\r\nconst noop = () => {};\r\n\r\nexport default class Logger {\r\n  scope: string | null;\r\n\r\n  database: DatabaseType;\r\n\r\n  constructor({scope, database}: ArgType = {}) {\r\n    this.scope = scope || null;\r\n    this.database = database || {save: noop};\r\n  }\r\n\r\n  log = (data: any, args: {[string]: any} = {}) => {\r\n    const {scope, database} = this;\r\n    let {type, ...extraArgs} = args;\r\n    type = type || types.INFO;\r\n\r\n    const logResult = log(data, {type, scope, ...extraArgs});\r\n\r\n    if (typeof database.save === 'function') {\r\n      database.save(logResult);\r\n    }\r\n  }\r\n\r\n  logInfo = (info: any) => {\r\n    this.log(info);\r\n  }\r\n\r\n  logError = (error: any) => {\r\n    this.log(error, {type: types.ERROR});\r\n  }\r\n}\r\n"]}